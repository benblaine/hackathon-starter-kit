<!DOCTYPE html>
<html>
<head>
  <title>DriveSafe (Starter Kit) | Root</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="./custom.css" />

  <link rel="icon" type="image/png" href="./logo.png" />

  <script>
    var CLIENT_ID="{{client_id}}";
    var PUSHER_CHANNEL="{{pusher_channel}}";
  </script>

</head>
<body>

  <nav class="navbar navbar-default navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <img alt="Root" src="./logo.png">
        </a>
      </div>
      <p class="navbar-text"><b>DriveSafe</b> (Starter Kit)</p>
    </div>
  </nav>

  <div class="container"> <!-- main container -->
    <div class="row"> <!-- main row -->

      <!-- Admin Controls -->
      <div class="col-sm-7">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h1 class="panel-title">Authenticated Users</h1>
          </div>
          <div class="panel-body">

            <table class="table">
              <thead>
                <tr>
                  <th class="col-md-3">Name</th>
                  <th class="col-md-3">Email</th>
                  <th class="col-md-6">User ID</th>
                </tr>
              </thead>
              <tbody id="users-table">
                <tr>
                  <td colspan="3">No users have signed in with this app yet</td>
                </tr>
              </tbody>
            </table>

          </div>
        </div> <!-- end panel -->

        <div class="panel panel-default">
          <div class="panel-heading">
            <h1 class="panel-title">Event Generator</h1>
          </div>
          <div class="panel-body">
            <p>Fake a data source from a smart watch, a mobile phone, car tracker or similar.</p>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <select class="form-control" id="users-dropdown">
                  </select>
                </div>
              </div>
            </div>

            <hr />

            <h4>Once-off Event</h4>
            <div class="row">
              <div class="col-md-6">
                <p>Send a single data entry to the server.</p>
                <form class="form-inline" id="form-once-off-events" action="/log-event">
                  <div class="form-group">
                    <input type="text" class="form-control" name="value" id="inputOnceOffValue" placeholder="42">
                  </div>
                  <button type="submit" class="btn btn-default">Publish</button>
                </form>
              </div>
            </div>

            <hr />

            <h4>Event Stream</h4>
            <div class="row">
              <div class="col-md-6">
                <p>Send a stream of data entries to the server.</p>
                <form id="form-event-stream" action="/log-event">
                  <div class="form-group">
                    <label for="inputStreamValueList">Values (comma separated)</label>
                    <input type="text" class="form-control" id="inputStreamValueList" name="values" placeholder="42,43,42,45,80,50">
                  </div>
                  <div class="form-group">
                    <label for="inputStreamTimerInterval">Interval (ms)</label>
                    <input type="text" class="form-control" id="inputStreamTimerInterval" name="millis" placeholder="100">
                  </div>
                  <button type="submit" class="btn btn-default">Publish Stream</button>
                </form>
              </div>
            </div>

          </div> <!-- end panel -->
        </div>

      </div>

      <!-- User App Simulation -->
      <div class="col-sm-5 text-center">

        <!-- <div class="panel panel-info">
          <div class="panel-heading">
            <h1 class="panel-title">User App</h1>
          </div> -->

        <div id="iphone" class="iphone signed-out">
          <div class="screen">
            <div class="navigation-bar">
              DriveSafe
            </div>
            <div class="content content-signed-out">
              <img src="./logo.png"/>
              <h3>DriveSafe</h3>
              <p>
                I'm an app that lives in this panel next to your dashboard. To use me, please authenticate yourself.
              </p>
              <a class="btn btn-primary" href="{{oauth_url}}" role="button">Sign in with Root</a>
            </div>

            <div class="content content-signed-in">
              <p id="greeting">
                Hi there,
              </p>
              <p id="body-text">
                This app tracks your driving speeds and will give you 5% off on fuel purchases if you can keep your average speed below the speed limit.
              </p>
              <button class="btn btn-primary" id="button-average">
                What's my current average?
              </button>
            </div>
          </div> <!-- end screen -->
        </div> <!-- end iphone -->

      </div>

    </div> <!-- end main row -->
  </div> <!-- end main container -->

  <!-- Load scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://cdn.rawgit.com/alertifyjs/alertify.js/v1.0.10/dist/js/alertify.js"></script>
  <script src="https://js.pusher.com/4.1/pusher.min.js"></script>
  <script src="./manager.js"></script>
  <script src="./user-app.js"></script>
</body>
</html>
